# ============================================================
# Luggage Shop - Environment Variables
# ============================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!
# ============================================================

# ============================================================
# APPLICATION
# ============================================================

# Environment (development | production | test)
NODE_ENV=development

# API Server Configuration
PORT=3001
API_URL=http://localhost:3001

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# ============================================================
# SUPABASE (Database & Storage)
# ============================================================

# Get these from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# For frontend (Vite requires VITE_ prefix)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key_here

# ============================================================
# REDIS (Caching & Sessions)
# ============================================================

# Option 1: Upstash Redis (Recommended for serverless)
# Get from: https://console.upstash.com/
REDIS_URL=redis://default:your_password@your-redis.upstash.io:6379

# Option 2: Self-hosted Redis
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_TLS=false

# ============================================================
# STRIPE (Payments)
# ============================================================

# Get these from: https://dashboard.stripe.com/apikeys
# Use test keys for development!
STRIPE_SECRET_KEY=sk_test_your_test_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_test_publishable_key

# For frontend
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_test_publishable_key

# Webhook secret (get from Stripe Dashboard → Developers → Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================================
# EMAIL (Optional - for order confirmations)
# ============================================================

# Option 1: SendGrid
# SENDGRID_API_KEY=SG.your_api_key
# SENDGRID_FROM_EMAIL=orders@yourdomain.com
# SENDGRID_FROM_NAME=Luggage Shop

# Option 2: Resend (Recommended)
# Get from: https://resend.com/api-keys
# RESEND_API_KEY=re_your_api_key
# RESEND_FROM_EMAIL=orders@yourdomain.com

# Option 3: SMTP
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_username
# SMTP_PASSWORD=your_password
# SMTP_FROM=orders@yourdomain.com

# Enable/disable email sending (useful for development)
EMAIL_ENABLED=false

# ============================================================
# ADMIN AUTHENTICATION
# ============================================================

# Admin JWT secret (generate with: openssl rand -base64 32)
ADMIN_JWT_SECRET=your_super_secret_jwt_key_here

# Admin JWT expiry (e.g., "7d" for 7 days, "24h" for 24 hours)
ADMIN_JWT_EXPIRY=7d

# ============================================================
# RATE LIMITING
# ============================================================

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Public API endpoints (requests per 15 minutes)
RATE_LIMIT_PUBLIC_MAX=100
RATE_LIMIT_PUBLIC_WINDOW_MS=900000

# Search endpoints (requests per minute)
RATE_LIMIT_SEARCH_MAX=20
RATE_LIMIT_SEARCH_WINDOW_MS=60000

# Checkout endpoints (requests per minute)
RATE_LIMIT_CHECKOUT_MAX=10
RATE_LIMIT_CHECKOUT_WINDOW_MS=60000

# ============================================================
# LOGGING & MONITORING
# ============================================================

# Log level (error | warn | info | debug)
LOG_LEVEL=info

# Pretty print logs in development
LOG_PRETTY=true

# Sentry DSN (for error tracking - optional)
# Get from: https://sentry.io/settings/projects/your-project/keys/
# SENTRY_DSN=https://your_dsn@sentry.io/your_project_id

# ============================================================
# SECURITY
# ============================================================

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Session secret (generate with: openssl rand -base64 32)
SESSION_SECRET=your_session_secret_here

# ============================================================
# DEVELOPMENT TOOLS
# ============================================================

# Enable debug mode
DEBUG=false

# Enable request logging
REQUEST_LOGGING=true

# ============================================================
# OPTIONAL: ANALYTICS
# ============================================================

# Google Analytics (for frontend)
# VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# PostHog (for product analytics)
# VITE_POSTHOG_KEY=phc_your_key
# VITE_POSTHOG_HOST=https://app.posthog.com

# ============================================================
# DEPLOYMENT (Production only)
# ============================================================

# These are set automatically by hosting providers
# Uncomment and set for production deployment

# Vercel (Frontend)
# VERCEL_URL=
# VERCEL_ENV=production

# Railway (Backend)
# RAILWAY_ENVIRONMENT=production
# RAILWAY_PUBLIC_DOMAIN=

# ============================================================
# NOTES
# ============================================================
#
# 1. Generate secure secrets with: openssl rand -base64 32
# 2. Use test keys for Stripe in development
# 3. Set EMAIL_ENABLED=false in development to skip sending emails
# 4. Use Upstash Redis for serverless deployment (free tier available)
# 5. Never commit .env file to version control
# 6. Update FRONTEND_URL and API_URL for production deployment
#
# ============================================================
